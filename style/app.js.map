{"version":3,"sources":["../app/src/app.js"],"names":["$","document","ready","setup","Vue","el","data","root","resources","source","style","md","toc","single","admin","sidebar","compiled","headings","filters","formatId","value","split","join","watch","oldSource","newSource","marked","sanitize","$nextTick","Prism","highlightAll","console","log","methods","reset","changeStyle","loadMd","name","fn","get","found","getElementById","href","toggleSidebar","getParams","params","window","location","search","replace","str","key","setupMd","that","renderer","Renderer","heading","text","level","raw","anchor","options","headerPrefix","toLowerCase","push","setOptions","created","blogs","books","repos","financials","purchases","type","title","items","styles"],"mappings":"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","file":"app.js","sourcesContent":["$(document).ready(() => {\n  setup();\n});\n\nfunction setup() {\n  // Vue.use(VueMarkdown);\n  new Vue({\n    el: 'body',\n    data: {\n      root: \"https://windmaomao.github.io/\",\n      resources: [],\n      source: \"\",\n      style: \"whitey\",\n      md: \"resume/profile-frontend\",\n      toc: true,\n      single: false,\n      admin: false,\n      sidebar: true,\n      compiled: \"\",\n      headings: []\n    },\n    filters: {\n      formatId: function(value) {\n        return !value ? value.split(\"-\").join(' ') : '';\n      }\n    },\n    watch: {\n      source: function(oldSource, newSource) {\n        this.headings = [];\n        this.compiled = marked(this.source, { sanitize: true });\n        this.$nextTick(function() {\n          Prism.highlightAll();\n        });\n        console.log(this.headings);\n      }\n    },\n    methods: {\n      reset() {\n        this.style = 'github';\n        this.changeStyle();\n      },\n      loadMd(name) {\n        const fn = this.root + name + \".md\";\n        $.get(fn, (data) => { this.source  = data; });\n      },\n      changeStyle() {\n        const root = this.root + \"style/\";\n        var found = document.getElementById('style');\n        if (found) {\n          found.href = root + this.style + \".css\";\n        }\n      },\n      toggleSidebar() {\n        this.sidebar = !this.sidebar;\n      },\n      getParams() {\n        var params={};\n        window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(str,key,value) {\n          params[key] = value;\n        });\n        this.style = params['st'] || this.style;\n        this.md = params['md'] || this.md;\n        this.single = params['single'] || this.single;\n        this.admin = params['ad'] || false;\n        this.sidebar = params['nt'] ? false : this.sidebar;\n      },\n      setupMd() {\n        const that = this;\n        const renderer = new marked.Renderer();\n        renderer.heading = function(text, level, raw) {\n          var anchor = this.options.headerPrefix + raw.toLowerCase().replace(/[^\\w]+/g, '-');\n          that.headings.push({\n            anchor: anchor,\n            level: level,\n            text: text\n          });\n          return '<h'+level+' id=\"'+anchor+'\">'+text+'</h'+level+'>\\n';\n        };\n        marked.setOptions({\n          renderer: renderer\n        });\n      }\n    },\n    created() {\n      this.blogs = ['index', 'power-of-loss', 'identity-debt', 'sustainable-prototyping', 'protection-from-loss', 'perfect-google-map', 'middle-ground', 'reusable-form', 'helping-others', 'law-of-winning', 'reusable-components', 'angular-on-windows', 'tiny-upscaling', 'build-new-system', 'dynamic-static-approach', 'container-to-rescue', 'being-dependent', 'active-management', 'floating-pot'];\n      this.books = ['index', 'art-of-war', 'big-shifts-ahead', 'five-rules-stock-investing', 'slash-retirement-risk'];\n      this.repos = ['angular-mc-common', 'angular2-mc-common'];\n      this.financials = ['tree-structure', 'balace-sheet', 'income-statement'];\n      this.purchases = ['index'];\n      this.resources = [\n        { type: 'book', title: 'Books', items: this.books },\n        { type: 'repository', title: 'Repos', items: this.repos },\n        { type: 'blog', title: 'Blogs', items: this.blogs },\n        { type: 'finance', title: 'Financials', items: this.financials },\n        { type: 'purchase', title: 'Purchases', items: this.purchases }\n      ];\n      this.styles = ['academic', 'ash', 'github', 'han', 'newsprint', 'pixyll', 'whitey'];\n      \n      this.getParams();\n      this.changeStyle();\n      this.setupMd();\n      this.loadMd(this.md);\n    },\n  });\n}"]}