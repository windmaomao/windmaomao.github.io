<!DOCTYPE html>
<html>

<head>
  <title>Markdown Preview</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.1/css/bulma.min.css"> -->
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.css"> -->
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure.css"> -->
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.3.0/milligram.css"> -->
  <link rel="stylesheet" href="reset.css">  
  <link rel="stylesheet" href="base.css">  
  <link rel="stylesheet" href="github.css" id="style">  
  <!-- <link rel="stylesheet" href="han.css">   -->
  <!-- <link rel="stylesheet" href="whitey.css">   -->
  <!-- <link rel="stylesheet" href="pixyll.css">   -->
</head>

<body class="pin-outline">
    <!-- <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">
        <a class="navbar-item" href="https://bulma.io">
          <img src="https://bulma.io/images/bulma-logo.png" alt="Bulma: a modern CSS framework based on Flexbox" width="112" height="28">
        </a>
      </div>
    </nav>   -->
    <div class="level">
      <div class="level-right">
        <div id="logo">
          <img src="tree.png">
          <p>Stay ahead and focused.</p>
          <div>
            <select v-model="style" v-on:change="changeStyle">
              <option v-for="s in styles">{{ s }}</option>
            </select>
          </div>
        </div>
        <ul class="outline-content">
          <li v-for="res in resources" class="outline-h1 outline-item-open" >
            <div class="outline-item">
              <span class="outline-label">{{ res.title }}</span>
            </div>
            <ul class="outline-children">
              <li v-for="item in res.items" class="outline-h2 outline-item-single">
                <div class="outline-item">
                  <span class="outline-label" v-on:click="load(res.type+'/'+item)">{{ item }}</span>
                </div>
              </li>
            </ul>
          </li>
        </ul>
      </div>
      <section class="section main">
        <div class="container" id="write">
          <vue-markdown :source="source"></vue-markdown>
        </div>
      </section>
    </div>
    <footer class="footer">@Copyright 2018 - Fang Jin</footer>  
    
    <script src="https://miaolz123.github.io/vue-markdown/dist/js/vue.js"></script>
    <script src="https://miaolz123.github.io/vue-markdown/dist/vue-markdown.min.js"></script>
    <script>
      Vue.use(VueMarkdown);
      new Vue({
        el: 'body',
        data: {
          resources: [],
          source: "",
          style: "github",
        },
        methods: {
          load(name) {
            const root = "https://windmaomao.github.io/";
            var fn = root + name + ".md";
            fetch(fn)
              .then((res) => res.text())
              .then((res) => { this.source = res; })
            ;    
          },
          changeStyle() {
            var found = document.getElementById('style');
            if (found) {
              found.href = this.style + ".css";
            }
          }
        },
        created() {
          this.blogs = ['index', 'power-of-loss', 'identity-debt', 'sustainable-prototyping', 'protection-from-loss', 'perfect-google-map', 'middle-ground', 'reusable-form', 'helping-others', 'law-of-winning', 'reusable-components', 'angular-on-windows', 'tiny-upscaling', 'build-new-system', 'dynamic-static-approach', 'container-to-rescue', 'being-dependent', 'active-management', 'floating-pot'];
          this.books = ['index', 'art-of-war', 'big-shifts-ahead', 'five-rules-stock-investing', 'slash-retirement-risk'];
          this.financials = ['tree-structure', 'balace-sheet', 'income-statement'];
          this.resources = [
            { type: 'book', title: 'Books', items: this.books },
            { type: 'blog', title: 'Blogs', items: this.blogs },
            { type: 'finance', title: 'Financials', items: this.financials }
          ];
          this.styles = ['academic', 'ash', 'github', 'han', 'newsprint', 'pixyll', 'whitey'];
          this.load('blog/power-of-loss');
        } 
      });
    </script>
  </body>