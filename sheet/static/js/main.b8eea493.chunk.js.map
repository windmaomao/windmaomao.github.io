{"version":3,"sources":["utils/sheetCreator.js","utils/arithmeticGen.js","components/SelectorStyle.js","components/Selector.js","variables.js","components/PlusStyle.js","components/Plus.js","components/SheetStyle.js","components/Sheet.js","components/ScoreStyle.js","components/Score.js","components/useTimer.js","components/Time.js","AppStyle.js","App.js","index.js"],"names":["sheetId","sheetCreator","gen","createSheet","n","answers","Array","fill","questions","map","i","handlers","onAnswer","value","touched","checked","correct","answer","utils","stats","reduce","acc","_","answered","total","randomInt","x","Math","floor","random","arithmeticGen","max","operator","tmp","nums","first","second","SelectorStyle","styled","div","gens","label","Selector","onSelect","onClick","g","s","variables","fontFamily","color","props","error","backgroundColor","active","PlusStyle","keysOnly","Plus","onFocus","inputRef","useRef","useEffect","current","focus","scrollIntoView","block","className","ref","onKeyDown","e","console","log","keyCode","target","indexOf","preventDefault","SheetStyle","Sheet","onStats","useState","activeIndex","setActiveIndex","onQuestionAnswer","isQuestionError","q","key","ScoreStyle","Score","useTimer","seconds","setSeconds","setInterval","TimeStyle","Time","timer","AppStyle","gen1","App","sheet","setSheet","setStats","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b8eea493.chunk.js","sourcesContent":["let sheetId = 0\nconst sheetCreator = (gen) => {\n  return {\n    createSheet: n => {\n      const answers = new Array(n).fill(null)\n      const questions = answers.map(i => gen())\n      const onAnswer = (i, value) => {\n        answers[i] = value\n      }\n      const handlers = { onAnswer }\n\n      const touched = i => answers[i] !== null\n      const checked = i => {\n        const correct = questions[i].answer\n        return `${correct}` === answers[i]\n      }\n      const stats = () => {\n        return questions.reduce((acc, _, i) => {\n          if (touched(i)) {\n            acc.answered++\n            if (checked(i)) {\n              acc.correct++\n            }\n          }\n          return acc\n        }, { correct: 0, answered: 0, total: n })\n      }\n\n      const utils = { touched, checked, stats }\n\n      sheetId++\n      return { sheetId, questions, answers, handlers, utils }\n    }\n  }\n}\n\nexport default sheetCreator\n","const randomInt = x => Math.floor(Math.random() * x)\n\nconst arithmeticGen = ({ max, operator }) => {\n  const gen = () => {\n    const nums = [randomInt(max), randomInt(max)]\n    let answer, tmp\n    let first = nums[0]\n    let second = nums[1]\n    switch (operator) {\n      case '-':\n        if (first < second) {\n          tmp = first; first = second; second = tmp\n        }\n        answer = first - second\n        break\n      case 'x':\n        answer = first * second\n        break\n      default:\n        answer = first + second\n        break\n    }\n    return { first, second, answer, operator }\n  }\n  return { gen }\n}\n\nexport default arithmeticGen\n","import styled from 'styled-components'\n\nconst SelectorStyle = styled.div`\n  position: fixed;\n  top: 20%;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  button {\n    border: none;\n    font-size: 16px;\n    padding: 0.2rem;\n    margin: 0.1rem 0;\n    cursor: pointer;\n    font-size: 22px;\n  }  \n`\n\nexport default SelectorStyle","import React from 'react'\nimport { sheetCreator, arithmeticGen } from '../utils'\nimport SelectorStyle from './SelectorStyle'\n\nconst gens = [\n  { label: '+', gen: arithmeticGen({ max: 12, operator: '+' }).gen },\n  { label: '-', gen: arithmeticGen({ max: 12, operator: '-' }).gen },\n  { label: '+', gen: arithmeticGen({ max: 20, operator: '+' }).gen },\n  { label: '-', gen: arithmeticGen({ max: 20, operator: '-' }).gen },\n  // { label: '*', gen: arithmeticGen({ max: 12, operator: 'x' }).gen }\n]\n\nconst Selector = ({ onSelect }) => {\n  const onClick = g => () => {\n    const s = sheetCreator(g).createSheet(100)\n    onSelect(s)\n  }\n\n  return (\n    <SelectorStyle>\n      {gens.map(g => (\n        <button \n          onClick={onClick(g.gen)}\n        >\n          {g.label}\n        </button>\n      ))}\n    </SelectorStyle>\n  )\n}\n\nexport default Selector\n","const variables = {\n  // fontFamily: \"'Chicle', cursive\"\n  fontFamily: \"'Walter Turncoat', cursive\"\n}\n\nexport default variables","import styled from 'styled-components'\nimport variables from '../variables'\n\nconst fontSize = '2.5rem'\nconst width = '9.5rem'\nconst fontFamily = variables.fontFamily\n\nconst color = props => {\n  if (props.error) return 'red'\n  return 'black'\n}\n\nconst backgroundColor = props => {\n  if (props.active) return '#f2f2f2'\n  return 'white'\n}\n\nconst PlusStyle = styled.div`\n  background-color: ${backgroundColor};\n  font-family: ${fontFamily};\n  font-size: ${fontSize};\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  width: ${width};\n  margin: 1rem 1rem;\n  padding: 1rem;\n\n  input {\n    background-color: ${backgroundColor};\n    font-family: ${fontFamily};\n    font-size: ${fontSize};\n    border-left: none;\n    border-right: none;\n    border-bottom: none;\n    border-top: 2px solid ${color};\n    box-sizing: border-box;\n    text-align: right;\n    width: 100%;\n    line-height: 1.8;\n    color: ${color};\n    outline: 0;\n  }\n\n  .index {\n    float: left;\n    font-size: 11px;\n    text-align: left;\n  }\n`\n\nexport default PlusStyle","import React, { useRef, useEffect } from 'react'\nimport PlusStyle from './PlusStyle'\n\nconst keysOnly = [\n  8,  // backspace\n  9,  // tab\n  37, // left arrow\n  39, // right arrow\n]\n\n/**\n * Plus Component\n * @param {func} onAnswer event upon value submit\n * @param {string} first fist value\n * @param {string} second second value\n * @param {string} operator operator\n * @param {bool} active active\n * @param {bool} error error\n */\nconst Plus = ({ \n  i, onAnswer, first, second, operator,\n  active, error, onFocus\n}) => {\n  const inputRef = useRef(null)\n  useEffect(() => { \n    if (active) {\n      const current = inputRef.current\n      if (current) {\n        current.focus()\n        current.scrollIntoView({ block: \"center\" })\n      }\n    }\n  }, [active])\n\n  const onKeyDown = e => {\n    console.log(e.keyCode)\n    if (e.keyCode === 13 || e.keyCode === 32) {\n      onAnswer(e.target.value)\n    }\n    if (e.keyCode >= 48 && e.keyCode <= 57) return\n    if (keysOnly.indexOf(e.keyCode) < 0) {\n      e.preventDefault()\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"index\">{i + 1})</div>\n      <PlusStyle\n        active={active}\n        error={error}\n      >\n        <div>{first}</div>\n        <div>{operator} &nbsp;&nbsp;{second}</div>\n        <div>\n          <input\n            ref={inputRef}\n            onKeyDown={onKeyDown}\n            onFocus={onFocus}\n          />\n        </div>\n      </PlusStyle>\n    </div>\n  )\n}\n\nexport default Plus\n","import styled from 'styled-components'\n\nconst SheetStyle = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n`\n\nexport default SheetStyle","import React, { useState } from 'react'\nimport Plus from './Plus'\nimport SheetStyle from './SheetStyle'\n\nconst Sheet = ({ \n  questions, handlers, utils,\n  onStats,\n}) => {\n  const [activeIndex, setActiveIndex] = useState(0)\n  const { onAnswer } = handlers\n  const { touched, checked } = utils\n\n  const onSelect = i => () => { setActiveIndex(i) } \n  const onQuestionAnswer = i => answer => { \n    onAnswer(i, answer)\n    onStats(utils.stats())\n    setActiveIndex(i+1)\n  }\n  const isQuestionError = i => {\n    if (touched(i)) {\n      return !checked(i)\n    }\n    return false\n  }\n\n  return (\n    <SheetStyle>\n      {questions.map((q, i) => (\n        <Plus\n          i={i}\n          key={i}\n          onFocus={onSelect(i)}\n          active={i === activeIndex}\n          first={q.first}\n          second={q.second}\n          operator={q.operator}\n          answer={q.answer}\n          onAnswer={onQuestionAnswer(i)}\n          error={isQuestionError(i)}\n        />\n      ))}\n    </SheetStyle>\n  )\n}\n\nexport default Sheet\n","import styled from 'styled-components'\n\nconst ScoreStyle = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  background-color: black;\n  color: white;\n  padding: 1rem;\n  font-size: 1.25rem;\n  & > div {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    .error {\n      color: coral;\n    }\n  }\n`\n\nexport default ScoreStyle\n\n","import React from 'react'\nimport ScoreStyle from './ScoreStyle'\n\nconst Score = ({ total, correct, answered }) => {\n  return (\n    <ScoreStyle>\n      <div>\n        <div>Total: &nbsp; {total}</div>\n        <div>Correct: &nbsp; {correct}</div>\n        <div>Error: &nbsp; \n          <span className=\"error\">{answered - correct}</span>\n        </div>\n      </div>\n    </ScoreStyle>\n  )\n}\n\nexport default Score\n","import { useState, useEffect } from 'react'\n\nconst useTimer = () => {\n  const [seconds, setSeconds] = useState(0)\n  \n  useEffect(() => {\n    setInterval(() => {\n      setSeconds(seconds => seconds + 1)\n    }, 1000)\n  }, [])\n\n  return seconds\n}\n\nexport default useTimer\n","import React from 'react'\nimport styled from 'styled-components'\nimport useTimer from './useTimer'\n\nconst TimeStyle = styled.div`\n  position: fixed;\n  right: 1rem;\n  bottom: 1rem;\n  opacity: 0.4;\n`\n\nconst Time = () => {\n  const timer = useTimer()\n  return <TimeStyle>{timer}</TimeStyle>\n}\n\nexport default Time\n","import styled from 'styled-components'\nimport variables from './variables'\n\nconst AppStyle = styled.div`\n  font-family: ${variables.fontFamily};\n  padding: 0 5rem;\n`\n\nexport default AppStyle\n","import React, { useState } from 'react'\nimport { Selector, Sheet, Score, Time } from './components'\nimport { sheetCreator, arithmeticGen } from './utils'\nimport AppStyle from './AppStyle'\n\nconst gen1 = arithmeticGen({ max: 10, operator: '+' }).gen\n\nconst App = () => {\n  const [sheet, setSheet] = useState(sheetCreator(gen1).createSheet(100))\n  \n  const onSelect = s => {\n    setSheet(s)\n    setStats(s.utils.stats())\n  }\n\n  const { sheetId, questions, answers, handlers, utils } = sheet\n  const [stats, setStats] = useState(utils.stats())\n  const { total, correct, answered } = stats\n\n  return (\n    <AppStyle>\n      <h1>&nbsp;</h1>\n      <Selector\n        onSelect={onSelect} \n      />\n      <Score\n        total={total}\n        correct={correct}\n        answered={answered}\n      />\n      <Sheet \n        key={sheetId}\n        questions={questions}\n        answers={answers}\n        handlers={handlers}\n        utils={utils}\n        onStats={setStats}\n      /> \n      <Time />\n    </AppStyle>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}